<!doctype html><html><head><title>Doc</title><body><dl><dd><a href="#a0">define(</a></dd><dd>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#a1">getUserLocale </a></dd><dd>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#a2">parseDateString </a></dd><dd>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#a3">fromEpoch </a></dd><dd>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#a4">transformDate </a></dd><dd>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#a5">transformTime </a></dd><dd>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#a6">transformDateTime </a></dd><dd>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#a7">transformDateTimeLong </a></dd><dd>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#a8">transformDateTimeShort </a></dd><dd>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#a9">transformDecimal </a></dd><dd>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#a10">toGMT </a></dd><dd>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#a11">fromGMT </a></dd><dd>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#a12">transformNumber </a></dd></dl><pre id="a0">define(</pre><p><b>class</b> l10n  <br/><b>description</b> Localisation related functions for general page content, widget content and UI elements This should only hold functions which are used across multiple pages, and does not constitute functionality related to a single area/page  <br/><b>namespace</b> Language localisation </p><br/><pre id="a1">getUserLocale : function() {</pre><p>Get the current logged in user's locale  <br/><b>return {String}</b> The user's locale string in XXX format </p><br/><pre id="a2">parseDateString : function(dateString, meData) {</pre><p>Parse a date string into a date object and adjust that date to the timezone set by the current user. <br/><b>param {Object}</b> dateString    date to parse in the format 2010-10-06T14:45:54+01:00 <br/><b>param {Object}</b> meData the data from sakai.api.User.data.me </p><br/><pre id="a3">fromEpoch : function(dateString, meData) {</pre><p>Determines date from an epoch string in UTC and returns a date object and adjust that date to the timezone set by the current user. <br/><b>param {Object}</b> dateString    date epoch <br/><b>param {Object}</b> meData the data from sakai.api.User.data.me </p><br/><pre id="a4">transformDate : function(date) {</pre><p>Function that will take in a date object and will transform that date object into a date only string <br/><b>param {Date}</b> date JavaScript date object that we would like to transform in a date string <br/><b>return {String}</b> Localized formatted date string </p><br/><pre id="a5">transformTime : function(date) {</pre><p>Function that will take in a date object and will transform that date object into a time only string <br/><b>param {Date}</b> date JavaScript date object that we would like to transform in a time string <br/><b>return {String}</b> Localized formatted time string </p><br/><pre id="a6">transformDateTime : function(date) {</pre><p>Function that will take in a date object and will transform that date object into a date and time string <br/><b>param {Date}</b> date JavaScript date object that we would like to transform in a date and time string <br/><b>return {String}</b> Localized fomatted date and time string </p><br/><pre id="a7">transformDateTimeLong : function(date) {</pre><p>Function to transform a date into a long date time string eg. Saturday, November 20, 2010 (for en_US) <br/><b>param {Date}</b> date <br/><b>return {String}</b> localized string </p><br/><pre id="a8">transformDateTimeShort : function(date) {</pre><p>Function to transform a date into a short date time string eg. 11/20/2010 5:12 PM (for en_US) <br/><b>param {Date}</b> date <br/><b>return {String}</b> localized string </p><br/><pre id="a9">transformDecimal : function(num, decimalplaces) {</pre><p>Function to localize a number including decimal places <br/><b>param {Number}</b> num a number <br/><b>param {Integer}</b> decimalplaces the number of decimal places to use <br/><b>return {Number}</b> the number formatted </p><br/><pre id="a10">toGMT : function(date, meData) {</pre><p>Function that will take in a date object and will transform that date object into a GMT date object. This should always be done before we try to save a date back to a file or the database. The timezone we are currently in will be determined from our timezone set in the personal preferences page <br/><b>param {Date}</b> date JavaScript date object that we would like to transform in a GMT date object <br/><b>param {Object}</b> meData the data from sakai.api.User.data.me <br/><b>return {Date}</b> Date object, that will have transformed the given date and time into GMT date and time </p><br/><pre id="a11">fromGMT : function(date, meData) {</pre><p>Function that will take in a GMT date object and will transform that date object into a local date object. This should always be done after we load a date back from a file or the database. The timezone we are currently in will be determined from our timezone set in the personal preferences page <br/><b>param {Date}</b> date JavaScript GMT date object that we would like to transform to a local date object <br/><b>param {Object}</b> meData the data from sakai.api.User.data.me <br/><b>return {Date}</b> Date object, that will have transformed the given GMT date and time into a local date and time </p><br/><pre id="a12">transformNumber : function(number) {</pre><p>Function that will take in a JavaScript Number and will transform it into a localised number string that complies with decimal points and character used as separator as specified in the config file <br/><b>param {Number}</b> number Number we want to localise (eg 10000000.442) <br/><b>return {String}</b> Localised string of the number given to this function(eg '10.000.000,442') </p><br/></body></html>