<!doctype html><html><head><title>Doc</title><body><dl><dd>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#a0">parseFullProfile</a></dd><dd>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#a1">loadFullProfile</a></dd><dd>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#a2">setFilePermissions </a></dd><dd>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#a3">setFilePermissionsAsParent</a></dd><dd>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#a4">setDataOnContent </a></dd><dd>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#a5">getParentPermissions </a></dd><dd>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#a6">setACLsOnPath</a></dd><dd>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#a7">checkPermissions</a></dd><dd>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#a8">isUserAManager</a></dd><dd>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#a9">isUserAnEditor</a></dd><dd>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#a10">isUserAViewer</a></dd><dd>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#a11">isContentInLibrary</a></dd><dd>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#a12">canCurrentUserShareContent</a></dd><dd>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#a13">addToLibrary</a></dd><dd>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#a14">removeUser</a></dd><dd>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#a15">checkAutosave</a></dd><dd>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#a16">getPreviewUrl </a></dd><dd>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#a17">getMimeTypeData</a></dd><dd>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#a18">getNewList </a></dd><dd>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#a19">prepareContentForRender </a></dd><dd>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#a20">Collections</a></dd><dd>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#a21">COLLECTION_GROUP_PREFIX</a></dd><dd>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#a22">createCollection</a></dd><dd>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#a23">addToCollection</a></dd><dd>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#a24">removeFromCollection</a></dd><dd>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#a25">setCollectionPermissions</a></dd><dd>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#a26">shareCollection</a></dd><dd>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#a27">getCollectionRolePseudoGroup</a></dd><dd>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#a28">currentUserHasCollectionRole</a></dd><dd>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#a29">canCurrentUserManageCollection</a></dd><dd>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#a30">canCurrentUserEditCollection</a></dd><dd>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#a31">getMyCollectionsCount</a></dd><dd>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#a32">getMyCollections</a></dd><dd>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#a33">getCollectionContentCount</a></dd><dd>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#a34">isCollection</a></dd><dd>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#a35">isCollectionInMyLibrary</a></dd><dd>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#a36">getCollectionGroupId</a></dd><dd>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#a37">getCollectionPoolId</a></dd></dl><pre id="a0">parseFullProfile: function(data, callback) {</pre><p>Parses a full profile as received from the loadFullProfile function <br/><b>param {Object}</b> data Object containing data as received from the loadFullProfile function. <br/><b>param {Function}</b> callback Function to execute when the function finishes </p><br/><pre id="a1">loadFullProfile: function(poolid, callback) {</pre><p>Loads the full content profile containing: - poolid.infinity.json -&gt; Fetches all general data for a content item (description, tags, title,...) - members.json -&gt; Fetches all viewers, editors and managers for a content item - versions.json -&gt; Fetches all versions for a content item - activityfeed.json -&gt; Fetches all activity for a content item and returns it in a callback function <br/><b>param {String}</b>     Pooled content id for the item to load the content profile for <br/><b>param {Function}</b>   callback Function that executes when all data thas been gathered, passes through the unparsed results. </p><br/><pre id="a2">setFilePermissions : function(filesArray, callback, groupID) {</pre><p>Set the permissions for an array of uploaded files or links <br/><b>param {String}</b> permissionValue either 'public', 'everyone', 'group' or 'private' <br/><b>param {Array}</b> filesArray Array of files containing the 'hashpath' property per file. This hashpath is the resourceID of the file <br/><b>param {Function}</b> callback Function to call when the permissions have been saved or failed to save. The callback function is provided with a Boolean. True = permissions successfully set, False = permissions not set (error) </p><br/><pre id="a3">setFilePermissionsAsParent: function(filesArray, parentSavePath, callback) {</pre><p>Sets the permissions of an Array of files to be the same as their parent Order of execution: - Load parent permissions - Set parent permission parameter on content nodes - Set ACLs on content node - Callback if present <br/><b>param {Array}</b> filesArray        Array of files (PoolIDs) <br/><b>param {String}</b> parentSavePath   savePath of the parent <br/><b>param {Function}</b> callback       Executed on completion of the function </p><br/><pre id="a4">var setDataOnContent = function(filesToSetPermissions, batchRequests) {</pre><p>Set parent permission parameter on content nodes <br/><b>param {Array}</b> filesToSetPermissions     Array of files to set ACLs on <br/><b>param {Array}</b> batchRequests             Array of requests to set permission parameter on content nodes </p><br/><pre id="a5">var getParentPermissions = function() {</pre><p>Get the permissons set on the parent </p><br/><pre id="a6">setACLsOnPath: function(_path, _permission, me, callback) {</pre><p>Sets ACLs on a specified path and executes a callback if specified. <br/><b>param {String}</b> _path The path on which the ACLs need to be set or an array of paths on which to set ACLs <br/><b>param {String}</b> _permission 'anonymous', 'everyone', 'contacts' or 'private' determining what ACLs need to be set This should be an array of equal length of _path is an array <br/><b>param {String}</b> me Userid of the currently logged in user <br/><b>param {Function}</b> callback Function to execute when permissions have been set or failed to be set </p><br/><pre id="a7">checkPermissions: function(content, meObj, permission, directOnly) {</pre><p>Check whether a user has specific access to a piece of content, either by being a direct or indirect (through group membership) manager/editor/viewer <br/><b>param {Object}</b> content      content profile data as defined in loadContentProfile() <br/><b>param {Object}</b> meObj        me object of the user you are checking permissions for <br/><b>param {String}</b> permission   specifies the type of access to check (manager, editor or viewer) <br/><b>param {Object}</b> directOnly   specifies whether or not the relationship needs to be direct </p><br/><pre id="a8">isUserAManager: function(content, meObj, directOnly) {</pre><p>Check whether a user can manage a piece of content, either by being a direct or indirect (through group membership) manager <br/><b>param {Object}</b> content      content profile data as defined in loadContentProfile() <br/><b>param {Object}</b> meObj        me object of the user you are checking manager permissions for <br/><b>param {Object}</b> directOnly   specifies whether or not the manager relationship needs to be direct </p><br/><pre id="a9">isUserAnEditor: function(content, meObj, directOnly) {</pre><p>Check whether a user can edit a piece of content, either by being a direct or indirect (through group membership) manager <br/><b>param {Object}</b> content      content profile data as defined in loadContentProfile() <br/><b>param {Object}</b> meObj        me object of the user you are checking manager permissions for <br/><b>param {Object}</b> directOnly   specifies whether or not the manager relationship needs to be direct </p><br/><pre id="a10">isUserAViewer: function(content, meObj, directOnly) {</pre><p>Check whether a user is a viewer of a piece of content, either by being a direct or indirect (through group membership) viewer <br/><b>param {Object}</b> content      content profile data as defined in loadContentProfile() <br/><b>param {Object}</b> meObj        me object of the user you are checking manager permissions for <br/><b>param {Object}</b> directOnly   specifies whether or not the manager relationship needs to be direct </p><br/><pre id="a11">isContentInLibrary: function(content, userid) {</pre><p>Check whether a given content item lives in a specific content library (either a personal library or a group library <br/><b>param {Object}</b> content    content profile data as defined in loadContentProfile() <br/><b>param {Object}</b> userid     authorizable id for which we're checking presence in the library </p><br/><pre id="a12">canCurrentUserShareContent: function(content) {</pre><p>Checks if a user is allowed to share the specified content <br/><b>param {Object}</b> content The content profile data as defined in loadContentProfile() </p><br/><pre id="a13">addToLibrary: function(contentId, userId, role, callBack) {</pre><p>Shares content with a user and sets permissions for the user. This function can handle single user/content or multiple user/content items in an array <br/><b>param {String|Array}</b> contentId   Unique pool id or Array of IDs of the content being added to the library <br/><b>param {String}</b> userId      Authorizable id of the library to add this content in <br/><b>param {String}</b> role        The role the user should have with the content that's being shared, defaults to viewer <br/><b>param {Object}</b> callBack    Function to call once the content has been added to the library </p><br/><pre id="a14">removeUser: function(role, contentId, userId, callback) {</pre><p>Removes multiple users from the specified role for multiple content items  <br/><b>param</b> role  content profile data as defined in loadContentProfile() <br/><b>param {String}</b> role The role to remove user(s) from <br/><b>param {String/Array}</b> contentId The content to remove the user from <br/><b>param {String/Array}</b> userId The user to remove <br/><b>param {Function}</b> callback Callback function </p><br/><pre id="a15">checkAutosave: function(newPage, pagePath, callback) {</pre><p>Checks for autosaved documents for a sakai doc and returns that data  <br/><b>param {Boolean}</b> Indicating if the sakai doc is a new page that can't have a autosaved page yet <br/><b>param {String}</b> Path to the sakai document in the system <br/><b>param {Function}</b> Callback function to execute on finish </p><br/><pre id="a16">getPreviewUrl : function(url) {</pre><p>Returns a preview URL for known services, empty string otherwise  <br/><b>param</b> url The url of the content in an external service that you'd like a preview of </p><br/><pre id="a17">getMimeTypeData: function(mimetype) {</pre><p>Returns an object with data for the provided mimetype  <br/><b>param</b> mimetype  standard mimetype string (i.e. 'image/png', 'application/pdf', etc.) <br/><b>return</b> if we have a match for the given mimetype, an Object with the following params will be returned: - cssClass: css class to assign a small (~16px) image as the background image for an element - URL: path to an image (~128px) that represents this content type - description: internationalizable bundle key for a short description for this content type (i.e. 'PDF document') If there is no match, a general 'Other document' object is returned </p><br/><pre id="a18">getNewList : function(library) {</pre><p>getNewList: get a new list of content based on newly uploaded or saved content  <br/><b>param {String}</b> library The library to get the data for  <br/><b>return {Object}</b> the passed-in data combined with the newly shared/uploaded content </p><br/><pre id="a19">prepareContentForRender : function(results, meData, callback, threeDotsWidths) {</pre><p>Function to process search results for content  <br/><b>param {Object}</b> results Search results to process <br/><b>param {Object}</b> meData User object for the user <br/><b>param {Function}</b> callback Callback function executed at the end of the operation <br/><b>param {Object}</b> threeDotsWidths Optional object to specify widths for applyThreeDots in the list view: titleWidth {Integer} limit the title to this width in list view descriptionWidth {Integer} limit the description to this width in list view displayNameWidth {Integer} limit the owner display name to this width in list view <br/><b>returns</b> void </p><br/><pre id="a20">Collections: {</pre><p>Set of API function around collection creation and management </p><br/><pre id="a21">COLLECTION_GROUP_PREFIX: 'c-',</pre><p>Prefix that will be prepended to all pseudoGroups created for collections </p><br/><pre id="a22">createCollection: function(title, description, permissions, tags, contentToAdd, usersToAdd, callback) {</pre><p>Create a new content collection. This includes the creation of a pooled content item and a pseudoGroup used to share content with. The auth-all feed for that pseudoGroup is then used to retrieve the content of the collection <br/><b>param {Object}</b> title            Title of the collection <br/><b>param {Object}</b> description      Description of the collection <br/><b>param {Object}</b> permissions      Permission to be set on the collection. Possible values are 'public', 'everyone' and 'private' <br/><b>param {Object}</b> tags             Tags to be set on the collection <br/><b>param {Object}</b> contentToAdd     Array of pooled content items that need to be added to the collection <br/><b>param {Object}</b> usersToAdd       Array of {'id': authorizableId, 'role': 'member/manager'} objects that determines who can see and who can edit the collections <br/><b>param {Object}</b> callback         Function to be called after the collections has been created. This will pass in a success parameter and </p><br/><pre id="a23">addToCollection: function(collectionId, poolIds, callback) {</pre><p>Add a number of content items to an existing collection <br/><b>param {Object}</b> collectionId    Pooled content id that represents the collection <br/><b>param {Object}</b> poolIds         Array of pooled content ids to be added to the collection <br/><b>param {Object}</b> callback        Function to be called when the content has been added to the collection </p><br/><pre id="a24">removeFromCollection: function(collectionId, poolIds, callback) {</pre><p>Remove a number of content items from an existing collection <br/><b>param {Object}</b> collectionId    Pooled content id that represents the collection <br/><b>param {Object}</b> poolIds         Array of pooled content ids to be removed from the collection <br/><b>param {Object}</b> callback        Function to be called when the content has been removed from the collection </p><br/><pre id="a25">setCollectionPermissions: function(collectionId, permission, callback) {</pre><p>Make a collection either public, private or only visible to the people it's shared with <br/><b>param {Object}</b> collectionId    Pooled content id that represents the collection <br/><b>param {Object}</b> permission      Permission to be set on the collection. Possible values are 'public', 'everyone' and 'private' <br/><b>param {Object}</b> callback        Function to be called when the new permissions have been set on the collection </p><br/><pre id="a26">shareCollection: function(collectionIds, authorizables, role, callback) {</pre><p>Share a collection with a list of users/groups <br/><b>param {Object}</b> collectionIds   Pooled content id(s) for the collection that's shared <br/><b>param {Object}</b> authorizables   Array of authorizable ids to share the collection with <br/><b>param {String}</b> role            The role the user should have with the collection that's being shared, defaults to member <br/><b>param {Object}</b> callback        Function to call when the collection has been shared </p><br/><pre id="a27">getCollectionRolePseudoGroup: function(role) {</pre><p>Returns the pseudo group the role belongs to <br/><b>param {String}</b> role The role to check for </p><br/><pre id="a28">currentUserHasCollectionRole: function(collectionid, role) {</pre><p>Check whether the current user can manage a given collection <br/><b>param {Object}</b> collectionid   Pseudogroup id of the collection <br/><b>param {String}</b> role           The role to check for </p><br/><pre id="a29">canCurrentUserManageCollection: function(collectionid) {</pre><p>Check whether the current user can manage a given collection <br/><b>param {Object}</b> collectionid   Pseudogroup id of the collection </p><br/><pre id="a30">canCurrentUserEditCollection: function(collectionid) {</pre><p>Check whether the current user can edit a given collection <br/><b>param {Object}</b> collectionid   Pseudogroup id of the collection </p><br/><pre id="a31">getMyCollectionsCount: function() {</pre><p>Retrieve the number of collections that are in my library </p><br/><pre id="a32">getMyCollections: function(page, items, callback, cache) {</pre><p>Get a list of the current user's collections in his library <br/><b>param {Object}</b> page        The page number to retrieve <br/><b>param {Object}</b> items       Number of items on each page <br/><b>param {Object}</b> callback    Function to call when the collections have been retrieved <br/><b>param {Boolean}</b> cache      Sets cache option for the ajax request </p><br/><pre id="a33">getCollectionContentCount: function(collection) {</pre><p>Get the number of items that are part of a specific collection <br/><b>param {Object}</b> collection    This can either be the pooled id of a collection object or the full collection pooled content object </p><br/><pre id="a34">isCollection: function(identifier) {</pre><p>Check whether a given object represents a collection <br/><b>param {Object}</b> identifier    This can be a group id, a content object or a group object </p><br/><pre id="a35">isCollectionInMyLibrary: function(collection) {</pre><p>Check whether a collection is part of my library or not <br/><b>param {Object}</b> collection    This can be the pooled content id of the collection or the pooled content object of the collection </p><br/><pre id="a36">getCollectionGroupId: function(collection) {</pre><p>Get the group ID of the pseudoGroup that's associated to a collection <br/><b>param {Object}</b> collection    This can be the pooled content id of the collection or the pooled content object of the collection </p><br/><pre id="a37">getCollectionPoolId: function(collectionGroup) {</pre><p>Get the pool id of a collection pseudoGroup <br/><b>param {Object}</b> collectionGroup    This can be the collection group id or the collection group object </p><br/></body></html>